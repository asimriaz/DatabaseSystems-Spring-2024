<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<head>
<title>Section 8.8.&nbsp; Exercises</title>
<link rel="STYLESHEET" type="text/css" href="images/style.css">
<link rel="STYLESHEET" type="text/css" href="images/docsafari.css">
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=learnsqlsvr05-CHP-8-SECT-7.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=learnsqlsvr05-CHP-9.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
<br><table width="100%" border="0" cellspacing="0" cellpadding="0"><TR><td valign="top"><a name="learnsqlsvr05-CHP-8-SECT-8"></a>
<h3 id="title-IDACIO53" class="docSection1Title">8.8. Exercises</H3>
<p class="docText">Unless specified otherwise, use the <tt>Student_course</tt> database to answer the following questions. Also, use appropriate column headings when displaying your output.</p>
<p class="docText">Use the techniques from this chapter to construct and execute the following queries:</p>
<div style="font-weight:bold"><ol class="docList" type="1"><LI><div style="font-weight:normal"><p class="docList">Find the student numbers of students who have earned As or Bs in courses taught in the fall semester. Do this in two ways: first using a subquery, and then using a join.</p></div></LI><li><div style="font-weight:normal"><p class="docList">Find all students who took a course offered by the Accounting department. List the student name and student number, the course name, and the grade in that course. (Hint: Begin with <tt>Department_to_major</tt> and use an appropriate <tt>WHERE</tt>.) Note that this task cannot be done with a multilevel subquery. Why?</P></div></LI><LI><div style="font-weight:normal"><p class="docList">For every students who is a sophomore (<tt>class</tt> = 2), find the name and the name of the department that includes the student's major.</P></div></li><LI><div style="font-weight:normal"><p class="docList">Find the names of the departments that offer courses at the junior or senior levels (either one) but not at the freshman level. The course level is the first digit after the prefix; for example, <tt>AAAA3yyy</tt> is a junior course, and so on.</P><p class="docList">Hint: Begin by creating the outer querythe names of departments that offer courses at the junior or senior levels. Save this query as q8_4. Then, construct the subquerya list of departments that offer courses at the freshman level. Save the subquery as a view. Examine both lists of departments. When you have the outer query and the subquery results, recall the original query that you saved (q8_4) and add the subquery. Check your result with the department lists you just generated. Redo the last part of the experiment with your view. You should get the same result.</p></div></LI><LI><div style="font-weight:normal"><p class="docList">Find the names of courses that are prerequisites for other courses. List the course number and name, and the number and name of the prerequisite.</p></div></li><li><div style="font-weight:normal"><p class="docList">List the names of instructors who teach courses that have other than three-hour credits. Do the problem in two ways: once with <tt>IN</tt> and once with <tt>NOT..IN</tt>.</p></div></LI><li><div style="font-weight:normal"><p class="docList">Create a table called <tt>Secretary</tt> with the columns <tt>dcode</tt> (of data type <tt>CHAR(4)</tt>) for department code and <tt>name</tt> (of data type <tt>VARCHAR(20)</tt>) for the secretary name. Populate the table as follows:</p><P><table cellspacing="0" border="1" RULES="all" cellpadding="4" width="90%"><colgroup span="2"><col><col></colgroup><thead><TR><th class="thead" scope="col" align="left" colspan="2"><p class="docText">Secretary</P></th></tr></thead><tr><td class="docTableCell" align="left"><p class="docText"><span class="docEmphStrong">dCode</span></p></td><td class="docTableCell" align="left"><p class="docText"><span class="docEmphStrong">name</span></p></td></tr><tr><td class="docTableCell" align="left"><p class="docText">ACCT</p></td><td class="docTableCell" align="left"><p class="docText">Beryl</p></TD></tr><tr><TD class="docTableCell" align="left"><p class="docText">COSC</p></td><TD class="docTableCell" align="left"><p class="docText">Kaitlyn</p></td></TR><tr><TD class="docTableCell" align="left"><p class="docText">ENGL</p></TD><TD class="docTableCell" align="left"><p class="docText">David</P></TD></tr><TR><TD class="docTableCell" align="left"><p class="docText">HIST</p></TD><TD class="docTableCell" align="left"><p class="docText">Christina</p></td></tr><tr><TD class="docTableCell" align="left"><p class="docText">BENG</p></td><TD class="docTableCell" align="left"><p class="docText">Fred</P></TD></tr><tr><td class="docTableCell" align="left"><p class="docText">HINDI</p></td><td class="docTableCell" align="left"><p class="docText">Chloe</p></td></tr></table></p><br><div style="font-weight:bold"><ol class="docList" type="a"><li><div style="font-weight:normal"><p class="docList">Create a query that lists the names of departments that have secretaries (use <tt>IN</tt> and the <tt>Secretary</tt> table in a subquery with the <tt>Department_to_major</tt> table in the outer query). Save this query as q8_7a.</p></div></li><li><div style="font-weight:normal"><p class="docList">Create a query that lists the names of departments (using the <tt>Department_to_major</tt> table) that do not have secretaries (use <tt>NOT IN</tt>). Save this query as q8_7b.</P></div></li><li><div style="font-weight:normal"><p class="docList">Add one more row to the <tt>Secretary</tt> table that contains <tt>&lt;null,'Brenda'&gt;</tt> (which you could see, for example, in a situation in which you have hired Brenda but have not yet assigned her to a department).</P></div></li><li><div style="font-weight:normal"><p class="docList">Recall q8_7a and rerun it. Recall q87_b and rerun it.</P><p class="docList">The behavior of <tt>NOT..IN</tt> when nulls exist may surprise you. If nulls may exist in the subquery, then <tt>NOT..IN</tt> either should not be used (<a class="docLink" href="learnsqlsvr05-CHP-10.html#learnsqlsvr05-CHP-10">Chapter 10</a> shows how to use another predicate, <tt>NOT EXISTS</tt>, which is a workaround to this problem), or should include <tt>AND</tt> whatever <tt>IS NOT NULL</tt>. If you use <tt>NOT..IN</tt> in a subquery, you must either ensure that nulls will not occur in the subquery or use some other predicate (such as <tt>NOT EXISTS</tt>). Perhaps the best advice is to avoid <tt>NOT..IN</tt> unless you cannot figure out another way to solve a problem.</p></div></li><LI><div style="font-weight:normal"><p class="docList">To see a correct answer, add the phrase <tt>WHERE dcode IS NOT NULL</tt> to the subquery in the <tt>IN</tt> and <tt>NOT..IN</tt> cases and run them again.</p></div></LI></ol></div><p class="docList">Do <span class="docEmphasis">not</span> delete the <tt>Secretary</tt> table, because we will revisit this problem in <a class="docLink" href="learnsqlsvr05-CHP-10.html#learnsqlsvr05-CHP-10">Chapter 10</a>.</p></div></LI><LI><div style="font-weight:normal"><p class="docList">Devise a list of course names that are offered in the fall semester in rooms where the capacity is equal to or above the average room size.</P></div></LI></ol></div>

<a href="24991536.html"><img src="images/pixel.jpg" alt="" width="1" height="1" border="0"></a></TD></TR></table>
<br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=learnsqlsvr05-CHP-8-SECT-7.html><img src="images/prev.gif" width="60" height="17" border="0" align="absmiddle" alt="Previous Page"></a>
<td align="right"><div STYLE="MARGIN-LEFT: 0.15in;">
<a href=learnsqlsvr05-CHP-9.html><img src="images/next.gif" width="60" height="17" border="0" align="absmiddle" alt="Next Page"></a>
</div></td></tr></table>
</body></html>